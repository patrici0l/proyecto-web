<h2>Asesorías recibidas</h2>

<div *ngIf="cargando">
    Cargando asesorías...
</div>

<div *ngIf="!cargando && asesorias.length === 0">
    <p>No tienes asesorías solicitadas por el momento.</p>
</div>

<table *ngIf="!cargando && asesorias.length > 0">
    <thead>
        <tr>
            <th>Solicitante</th>
            <th>Correo</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Comentario</th>
            <th>Estado</th>
            <th>Respuesta</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let a of asesorias">
            <td>{{ a.nombreSolicitante }}</td>
            <td>{{ a.emailSolicitante }}</td>
            <td>{{ a.fecha }}</td>
            <td>{{ a.hora }}</td>
            <td>{{ a.comentario || '-' }}</td>
            <td>{{ a.estado | titlecase }}</td>
            <td>{{ a.respuestaProgramador || '-' }}</td>
            <td>
                <button *ngIf="a.estado === 'pendiente'" (click)="cambiarEstado(a, 'aprobada')">
                    Aprobar
                </button>

                <button *ngIf="a.estado === 'pendiente'" (click)="cambiarEstado(a, 'rechazada')">
                    Rechazar
                </button>

                <span *ngIf="a.estado !== 'pendiente'">
                    (Ya gestionada)
                </span>
            </td>
        </tr>
    </tbody>
</table>