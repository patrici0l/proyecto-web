<h2>Asesorías recibidas</h2>

<div *ngIf="cargando">
    Cargando solicitudes...
</div>

<div *ngIf="!cargando && asesorias.length === 0">
    <p>No tienes solicitudes de asesoría por el momento.</p>
</div>

<table *ngIf="!cargando && asesorias.length > 0">
    <thead>
        <tr>
            <th>Solicitante</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Comentario</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let a of asesorias">

            <td>{{ a.nombreSolicitante }}</td>
            <td>{{ a.fecha }}</td>
            <td>{{ a.hora }}</td>
            <td>{{ a.comentario || '-' }}</td>

            <td>{{ a.estado | titlecase }}</td>

            <td>
                <button type="button" (click)="cambiarEstado(a, 'aprobada')" [disabled]="a.estado !== 'pendiente'">
                    Aprobar
                </button>

                <button type="button" (click)="cambiarEstado(a, 'rechazada')" [disabled]="a.estado !== 'pendiente'">
                    Rechazar
                </button>
            </td>

        </tr>
    </tbody>
</table>

<!-- Panel de notificación simulada -->
<div *ngIf="mensajeSimulado" class="notificacion-simulada">
    <h3>Notificación simulada</h3>
    <pre>{{ mensajeSimulado }}</pre>
    <button type="button" (click)="cerrarMensajeSimulado()">Cerrar</button>
</div>